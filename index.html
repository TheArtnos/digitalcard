<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>The Mamad</title>
        <link rel="stylesheet" href="style/app.css" />
    </head>
    <body>
        <div class="container">
            <div class="liner">
                <div class="header__image">
                    <img src="images/logo.jpg" alt="logo" class="image" />
                </div>
                <div class="header__title">
                    <h1 class="title">The Mamad</h1>
                </div>
                <div class="header__text">
                    <p class="text">
                        Hi, I'm Mohammad. I'm learning JavaScript while being
                        proficient in HTML and CSS
                    </p>
                </div>
                <div class="header__link">
                    <ul>
                        <li>
                            <a
                                href="https://t.me/LD_only_darkness"
                                class="link"
                                title="telegram"
                            >
                                Content Me
                                <img
                                    src="images/telegram-svgrepo-com(4).svg"
                                    alt="icon"
                                    class="icon"
                                />
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="container2">
                <div class="liner2">
                    <ul class="footer">
                        <li class="items">
                            <a
                                href="https://wa.me/989390401689"
                                class="links"
                                target="_blank"
                            >
                                <img
                                    src="images/4.svg"
                                    alt="X"
                                    class="img"
                                    title="wahtsapp"
                                />
                            </a>
                        </li>
                        <li class="items">
                            <a
                                href="https://github.com/theartnos"
                                class="links"
                                target="_blank"
                            >
                                <img
                                    src="images/3.svg"
                                    alt="X"
                                    class="img"
                                    title="github"
                                />
                            </a>
                        </li>
                        <li class="items">
                            <a
                                href="https://www.linkedin.com/in/mohammad-malkshahi-5a8261352?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app"
                                class="links"
                            >
                                <img
                                    src="images/6.png"
                                    alt="X"
                                    class="img"
                                    title="linkedin"
                                />
                            </a>
                        </li>
                        <li class="items">
                            <a href="mailto:theartnos" class="links">
                                <img
                                    src="images/email-1-svgrepo-com.svg"
                                    alt="X"
                                    class="img"
                                    title="email"
                                />
                            </a>
                        </li>
                        <li class="items">
                            <a href="#" class="links">
                                <img
                                    src="images/5.svg"
                                    alt="X"
                                    class="img"
                                    title="discord"
                                />
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <script>
            const backgrounds = [
                "images/bg1.jpg",
                "images/bg2.jpg",
                "images/bg3.jpg",
                "images/bg4.jpg",
                "images/bg5.jpg",
                "images/bg6.jpg",
                "images/bg7.jpg",
                "images/bg8.jpg",
                "images/bg9.jpg",
                "images/bg10.jpg",
                "images/bg11.jpg",
                "images/bg12.jpg",
                "images/bg13.jpg",
                "images/bg14.jpg",
                "images/bg15.jpg",
            ];
        
            // کش تصاویر در حافظه
            const preloadedImages = [];
        
            function preloadImages(callback) {
                let loadedCount = 0;
        
                backgrounds.forEach((src, index) => {
                    const img = new Image();
                    img.src = src;
                    img.onload = () => {
                        preloadedImages[index] = img; // ذخیره تصویر در آرایه
                        loadedCount++;
        
                        // وقتی همه تصاویر لود شدند، تابع callback اجرا می‌شه
                        if (loadedCount === backgrounds.length) {
                            callback();
                        }
                    };
                });
            }
        
            function changeBackground() {
                let randomIndex = Math.floor(Math.random() * backgrounds.length);
                document.body.style.backgroundImage = `url('${preloadedImages[randomIndex].src}')`;
                document.body.style.backgroundSize = "cover";
                document.body.style.backgroundPosition = "center";
                document.body.style.backgroundAttachment = "fixed";
        
                console.log(`پس‌زمینه جدید: ${preloadedImages[randomIndex].src}`);
            }
        
            // ابتدا همه تصاویر را پیش‌لود کن، بعد پس‌زمینه را تنظیم کن
            preloadImages(() => {
                changeBackground();
            });
        </script>
        
    </body>
</html>
